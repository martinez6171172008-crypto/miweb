<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Merka - Marketplace Colombiano</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
<header>
  <div class="logo">ğŸ›’ Merka</div>
  <input id="search" placeholder="Buscar productos..." onkeyup="searchProducts()">
  <nav>
    <a href="#" id="userProfile" style="display:none;" onclick="openProfile(); return false;">Mi Perfil</a>
    <a href="#" onclick="openLogin(); return false;">Login</a>
    <a href="#" onclick="openCart(); return false;">ğŸ›’ Carrito (<span id="cartCount">0</span>)</a>
    <a href="#" onclick="openSell(); return false;">Vender</a>
  </nav>
</header>

<!-- CARRUSEL DE DESTACADOS -->
<div class="carousel">
  <div class="carousel-container" id="carouselContainer">
    <div class="carousel-slide active" data-category="TecnologÃ­a" onclick="filterByCategory('TecnologÃ­a')">
      <img src="https://images.unsplash.com/photo-1498049794561-7780e7231661?w=800" alt="TecnologÃ­a">
      <div class="carousel-content">
        <h2>TecnologÃ­a de Ãšltima GeneraciÃ³n</h2>
        <button class="carousel-btn">Ver Productos</button>
      </div>
    </div>
    <div class="carousel-slide" data-category="Ropa" onclick="filterByCategory('Ropa')">
      <img src="https://images.unsplash.com/photo-1445205170230-053b83016050?w=800" alt="Moda">
      <div class="carousel-content">
        <h2>Moda y Estilo</h2>
        <button class="carousel-btn">Ver Productos</button>
      </div>
    </div>
    <div class="carousel-slide" data-category="Comida" onclick="filterByCategory('Comida')">
      <img src="https://images.unsplash.com/photo-1504674900247-0877df9cc836?w=800" alt="Comida">
      <div class="carousel-content">
        <h2>Deliciosa Comida</h2>
        <button class="carousel-btn">Ver Productos</button>
      </div>
    </div>
    <div class="carousel-slide" data-category="Juguetes" onclick="filterByCategory('Juguetes')">
      <img src="https://images.unsplash.com/photo-1515488764276-beab7607c1e6?w=800" alt="Juguetes">
      <div class="carousel-content">
        <h2>Juguetes y DiversiÃ³n</h2>
        <button class="carousel-btn">Ver Productos</button>
      </div>
    </div>
  </div>
  <button class="carousel-prev" onclick="prevSlide()">&#10094;</button>
  <button class="carousel-next" onclick="nextSlide()">&#10095;</button>
  <div class="carousel-indicators" id="carouselIndicators"></div>
</div>

<!-- CATEGORÃAS -->
<section class="categories-section">
  <h2>CategorÃ­as</h2>
  <div class="categories">
    <button class="category-btn active" onclick="filterByCategory('Todos')">
      <span class="category-icon">ğŸ›ï¸</span>
      <span>Todos</span>
    </button>
    <button class="category-btn" onclick="filterByCategory('TecnologÃ­a')">
      <span class="category-icon">ğŸ’»</span>
      <span>TecnologÃ­a</span>
    </button>
    <button class="category-btn" onclick="filterByCategory('Moda')">
      <span class="category-icon">ğŸ‘•</span>
      <span>Moda</span>
    </button>
    <button class="category-btn" onclick="filterByCategory('Hogar')">
      <span class="category-icon">ğŸ </span>
      <span>Hogar</span>
    </button>
    <button class="category-btn" onclick="filterByCategory('Deportes')">
      <span class="category-icon">âš½</span>
      <span>Deportes</span>
    </button>
    <button class="category-btn" onclick="filterByCategory('Juguetes')">
      <span class="category-icon">ğŸ®</span>
      <span>Juguetes</span>
    </button>
    <button class="category-btn" onclick="filterByCategory('Belleza')">
      <span class="category-icon">ğŸ’„</span>
      <span>Belleza</span>
    </button>
    <button class="category-btn" onclick="filterByCategory('Libros')">
      <span class="category-icon">ğŸ“š</span>
      <span>Libros</span>
    </button>
    <button class="category-btn" onclick="filterByCategory('Mascotas')">
      <span class="category-icon">ğŸ¾</span>
      <span>Mascotas</span>
    </button>
    <button class="category-btn" onclick="filterByCategory('Alimentos')">
      <span class="category-icon">ğŸ•</span>
      <span>Alimentos</span>
    </button>
    <button class="category-btn" onclick="filterByCategory('VehÃ­culos')">
      <span class="category-icon">ğŸš—</span>
      <span>VehÃ­culos</span>
    </button>
    <button class="category-btn" onclick="filterByCategory('MÃºsica')">
      <span class="category-icon">ğŸµ</span>
      <span>MÃºsica</span>
    </button>
  </div>
</section>

<!-- CATÃLOGO -->
<main id="catalogo"></main>

<!-- OVERLAY -->
<div id="overlay" class="overlay" onclick="closeModal()"></div>

<!-- LOGIN MODAL -->
<div id="loginModal" class="modal">
  <h2>Iniciar sesiÃ³n</h2>
  <input id="email" type="email" placeholder="Correo">
  <input id="password" type="password" placeholder="ContraseÃ±a">
  <button onclick="login()">Entrar</button>
  <p>Â¿No tienes cuenta?
    <a href="#" onclick="openRegister(); return false;">Crear cuenta</a>
  </p>
</div>

<!-- REGISTER MODAL -->
<div id="registerModal" class="modal">
  <h2>Crear cuenta</h2>
  <input id="regEmail" type="email" placeholder="Correo">
  <input id="regPassword" type="password" placeholder="ContraseÃ±a">
  <button onclick="register()">Registrarse</button>
  <p>
    <a href="#" onclick="openLogin(); return false;">Ya tengo cuenta</a>
  </p>
</div>

<!-- SELL MODAL -->
<div id="sellModal" class="modal">
  <h2>Publicar producto</h2>
  <input id="name" placeholder="Nombre del producto">
  <input id="price" type="number" placeholder="Precio en COP (pesos colombianos)">
  <input id="image" placeholder="URL de imagen">
  <select id="category">
    <option value="TecnologÃ­a">TecnologÃ­a</option>
    <option value="Moda">Moda</option>
    <option value="Hogar">Hogar</option>
    <option value="Deportes">Deportes</option>
    <option value="Juguetes">Juguetes</option>
    <option value="Belleza">Belleza</option>
    <option value="Libros">Libros</option>
    <option value="Mascotas">Mascotas</option>
    <option value="Alimentos">Alimentos</option>
    <option value="VehÃ­culos">VehÃ­culos</option>
    <option value="MÃºsica">MÃºsica</option>
  </select>
  <textarea id="description" placeholder="DescripciÃ³n del producto"></textarea>
  <button onclick="addProduct()">Publicar</button>
</div>

<!-- CART MODAL -->
<div id="cartModal" class="modal cart-modal">
  <h2>Carrito de Compras</h2>
  <div id="cartItems"></div>
  <div class="cart-total">
    <div class="total-breakdown">
      <div class="total-line">
        <span>Subtotal:</span>
        <span>$<span id="cartSubtotal">0</span> COP</span>
      </div>
      <div class="total-line">
        <span>EnvÃ­o:</span>
        <span>$<span id="cartShipping">12000</span> COP</span>
      </div>
      <div class="total-line total-final">
        <span><strong>Total:</strong></span>
        <span><strong>$<span id="cartTotal">0</span> COP</strong></span>
      </div>
    </div>
    <button onclick="proceedToCheckout()" class="checkout-btn">ğŸ’³ Proceder al Pago con Wompi</button>
    <p class="payment-info">Pago seguro con tarjetas, PSE, Nequi y Daviplata</p>
  </div>
</div>

<!-- CHECKOUT MODAL -->
<div id="checkoutModal" class="modal checkout-modal">
  <h2>Finalizar Compra</h2>
  <div class="checkout-form">
    <h3>InformaciÃ³n de EnvÃ­o</h3>
    <input type="text" id="buyerName" placeholder="Nombre completo *" required>
    <input type="tel" id="buyerPhone" placeholder="TelÃ©fono *" required>
    <input type="text" id="buyerAddress" placeholder="DirecciÃ³n completa *" required>
    <input type="text" id="buyerCity" placeholder="Ciudad *" required>
    <select id="buyerDepartment">
      <option value="">Seleccionar departamento *</option>
      <option value="Amazonas">Amazonas</option>
      <option value="Antioquia">Antioquia</option>
      <option value="Arauca">Arauca</option>
      <option value="AtlÃ¡ntico">AtlÃ¡ntico</option>
      <option value="BolÃ­var">BolÃ­var</option>
      <option value="BoyacÃ¡">BoyacÃ¡</option>
      <option value="Caldas">Caldas</option>
      <option value="CaquetÃ¡">CaquetÃ¡</option>
      <option value="Casanare">Casanare</option>
      <option value="Cauca">Cauca</option>
      <option value="Cesar">Cesar</option>
      <option value="ChocÃ³">ChocÃ³</option>
      <option value="CÃ³rdoba">CÃ³rdoba</option>
      <option value="Cundinamarca">Cundinamarca</option>
      <option value="GuainÃ­a">GuainÃ­a</option>
      <option value="Guaviare">Guaviare</option>
      <option value="Huila">Huila</option>
      <option value="La Guajira">La Guajira</option>
      <option value="Magdalena">Magdalena</option>
      <option value="Meta">Meta</option>
      <option value="NariÃ±o">NariÃ±o</option>
      <option value="Norte de Santander">Norte de Santander</option>
      <option value="Putumayo">Putumayo</option>
      <option value="QuindÃ­o">QuindÃ­o</option>
      <option value="Risaralda">Risaralda</option>
      <option value="San AndrÃ©s y Providencia">San AndrÃ©s y Providencia</option>
      <option value="Santander">Santander</option>
      <option value="Sucre">Sucre</option>
      <option value="Tolima">Tolima</option>
      <option value="Valle del Cauca">Valle del Cauca</option>
      <option value="VaupÃ©s">VaupÃ©s</option>
      <option value="Vichada">Vichada</option>
    </select>
    <textarea id="buyerNotes" placeholder="Notas adicionales (opcional)" rows="3"></textarea>
    
    <div class="order-summary">
      <h3>Resumen del Pedido</h3>
      <div id="checkoutSummary"></div>
    </div>
    
    <button onclick="payWithWompi()" class="wompi-pay-btn">
      <img src="https://wompi.com/assets/images/logo-purple.svg" alt="Wompi" style="height: 20px; margin-right: 10px;">
      Pagar $<span id="checkoutTotal">0</span> COP
    </button>
    <button onclick="closeModal()" class="cancel-btn">Cancelar</button>
  </div>
</div>

<!-- PROFILE MODAL -->
<div id="profileModal" class="modal">
  <h2>Mi Perfil</h2>
  <div class="profile-info">
    <p><strong>Email:</strong> <span id="profileEmail"></span></p>
    <p><strong>Miembro desde:</strong> <span id="memberSince"></span></p>
    <div class="profile-stats">
      <div class="stat-box">
        <h3 id="productsPublished">0</h3>
        <p>Productos Publicados</p>
      </div>
      <div class="stat-box">
        <h3 id="productsSold">0</h3>
        <p>Ventas Realizadas</p>
      </div>
    </div>
    <div class="profile-rating">
      <h3>CalificaciÃ³n del Vendedor</h3>
      <div class="stars" id="sellerRating">
        â­â­â­â­â­
      </div>
      <p class="rating-text">5.0 (12 valoraciones)</p>
    </div>
  </div>
  <button onclick="logout()" class="logout-btn">Cerrar SesiÃ³n</button>
</div>

<!-- FIREBASE -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<!-- WOMPI SDK -->
<script src="https://checkout.wompi.co/widget.js"></script>
<script>
const firebaseConfig = {
  apiKey: "AIzaSyBGkUJ04p3fOGyXZUnShgfCVAkbVFw61AI",
  authDomain: "mini-mercado-3c9e7.firebaseapp.com",
  projectId: "mini-mercado-3c9e7",
  storageBucket: "mini-mercado-3c9e7.appspot.com",
  messagingSenderId: "307515400256",
  appId: "1:307515400256:web:3da39e7a39f39f5c85ffa5"
};
firebase.initializeApp(firebaseConfig);
</script>
<script src="app.js"></script>
</body>
</html>

